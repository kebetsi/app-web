<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns:fb="http://ogp.me/ns/fb#">
<head>
  <!-- ENV example -->
  <!-- @if NODE_ENV == 'DEVELOPMENT' -->
  <title>Pryv @ Glance || DEVMODE</title>
  <base href="">
  <!-- @endif -->
  <!-- @if NODE_ENV != 'DEVELOPMENT' -->
  <title>Pryv @ Glance</title>
  <base href="{browser-source}_<!-- @echo version -->/">
  <!-- @endif -->

  <meta property="og:title" content="Slice of life" />
  <!-- @if NODE_ENV != 'DEVELOPMENT'  -->
  <meta property="og:url" content="https://{host}" />
  <!-- @endif -->
  <meta property="og:description" content="Content available on Pryv only." />
  <meta property="og:image" content="http://d233medomu0tdb.cloudfront.net/media_dist/og_image.jpg" />
  <meta property="og:image:secure_url" content="https://d233medomu0tdb.cloudfront.net/media_dist/og_image.jpg" />
  <meta property="fb:app_id" content="589869207755296" />
  <link rel="stylesheet" type="text/css" href="styles/vendor.min.css">
  <link rel="stylesheet" type="text/css" href="styles/styles.css">
  <script type="text/javascript" charset="utf-8" src="script/vendor.js"></script>
  <!-- @if NODE_ENV == 'PRODUCTION' -->
  <script src="script/airbrake-shim.js" data-airbrake-project-id="browser" data-airbrake-project-key="b0de2702276b1e9094a2bfd0d3285a11" data-airbrake-environment-name="production"></script>
  <!-- @endif -->
  <!-- @if NODE_ENV == 'STAGING' -->
  <script src="script/airbrake-shim.js" data-airbrake-project-id="browser" data-airbrake-project-key="b0de2702276b1e9094a2bfd0d3285a11" data-airbrake-environment-name="staging"></script>
  <!-- @endif -->
  <script type="text/javascript" charset="utf-8" src="script/app_bundle_main.js"></script>
  <script type="text/javascript">
    $(function () {
      var sampleApp = require('SampleApp');
      <!-- @if NODE_ENV == 'PRODUCTION'  -->
      var wrapped = Airbrake.wrap(function() {
        sampleApp.main(false);
      });
      wrapped();
        <!-- @endif -->
      <!-- @if NODE_ENV == 'STAGING' -->
      var wrapped = Airbrake.wrap(function() {
        sampleApp.main(true);
      });
      wrapped();
      <!-- @endif -->
      <!-- @if NODE_ENV == 'DEVELOPMENT' -->
      sampleApp.main(true);
      <!-- @endif -->
    });
  </script>
  <script id="onboardingView" type="template">
    <div class="container">
    <div class="row onboarding">
      <div class="col-md-4"><h1>What matters in your life ?</h1>
        <div class="ob_text">
          <p>Your life is made of streams.
            <span class="stream_color_1">Travel</span>,<span class="stream_color_2"> Friends</span>,<span class="stream_color_3"> Family</span>,<span class="stream_color_4"> Sports...</span></p>
          <p>To get started, create streams that matter to you:</p>
          <form class="form-inline" role="form" id="onboarding-form">
            <div class="form-group">
              <input type="text" id='onboarding-input-name' class="form-control" placeholder="Create Your Stream" style="width: 152px;">
            </div>
            <button type="submit" class="btn btn-primary">START</button>
          </form>
        </div>
      </div>
      <div class="col-md-8"><img src="/images/onboarding_image.png"/></div>
    </div>
    </div>
  </script>
  <script id="super-condensed-view" type="template">
    <div class="aggregated-icon Numericals"></div>
    <span class="aggregated-nbr-events"><%=eventsNbr%></span>

    <div class="aggregated-icon-page"></div>
    <div class="content Center-Container is-Table">
      <div class="Table-Cell">
        <div class="Center-Block">
          <% _.each(_.keys(datas), function (key) {
          %><p><%= _.size(datas[key])%> <%= key %></p> <%
          })
          %>
        </div>
      </div>
    </div>
  </script>
  <script id="positionsView" type="template">
    <div class="aggregated-icon Positions"></div>
    <span class="aggregated-nbr-events"><%=eventsNbr%></span>

    <div id="map-canvas-<%=id%>" class="mapView"></div>
  </script>
  <script id="picturesView" type="template">
    <span class="aggregated-nbr-events"><%=eventsNbr%></span>

  </script>

  <script id="notesView" type="template">
    <div class="aggregated-icon Notes"></div>
    <span class="aggregated-nbr-events"><%=eventsNbr%></span>

    <div class="content Center-Container is-Table">
      <div class="Table-Cell">
        <div class="Center-Block">
          <%= content %>
        </div>
      </div>
    </div>
    <div class="tags"><%= tags %></div>
    <div class="date"><%= new Date(time * 1000).toLocaleDateString() %></div>
  </script>
  <script id="genericsView" type="template">
    <div class="aggregated-icon <%= type.split("/")[0] %> <%= type.split("/")[1] %>"></div>

    <span class="aggregated-nbr-events"><%=eventsNbr%></span>

    <div class="aggregated-icon-page"></div>


    <div class="content Center-Container is-Table">
      <div class="Table-Cell">
        <div class="Center-Block">
          <% if (type.split("/")[0] === 'url') { %>
          <a href="<%= content %>" target="_blank"><%= content %></a>
          <% } else { %>
          <%= content %>
          <% } %>
        </div>
      </div>
    </div>

  </script>  <script id="tweetView" type="template">
    <div class="aggregated-icon <%= type.split("/")[0] %> <%= type.split("/")[1] %>"></div>

    <span class="aggregated-nbr-events"><%=eventsNbr%></span>

    <div class="aggregated-icon-page"></div>


    <div class="content Center-Container is-Table">
      <div class="Table-Cell">
        <div class="Center-Block">
          <blockquote class="twitter-tweet" align="center" width="<%= width %>" height="<%= height %>">
            <p><%= content.text %> </p>&mdash;
            <%= content['screen-name'] %> (@<%= content['screen-name'] %>) <%= getUrl()%>
          </blockquote>
          <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
        </div>
      </div>
    </div>
  </script>
  <script id="nodeView" type="template">

    <%
    if (typeof(content) != "undefined") {
    if (typeof(content.name) != "undefined" && typeof(content.clientData) != "undefined" ) { %>
    <div class='nodeHeader <%= content.clientData.color %>'><%= content.name %></div>
    <% } else if (typeof(content.name) != "undefined" ) { %>
    <div class='nodeHeader '><%= content.name %></div>
    <% } else if (typeof(content.username) != "undefined") { %>
    <div class='nodeHeader'><%= content.username %> / <%= content._accessInfo.name %></div>
    <% } } %>
    <span></span>
  </script>

  <script type="text/html" id="template-detailListCompositeView">
    <div id="detail-list"></div>
  </script>
  <script type="text/html" id="template-subscribeListCompositeView">
    <ul id="subscribe-list"></ul>
  </script>
  <script type="text/html" id="template-detailItemView">
    <input type="checkbox" class="checkbox">
    <div class="view clearfix">
      <div class="preview"><%= getPreview() %></div>
      <div class="date"><%= new Date(event.time * 1000).toLocaleDateString() %></div>
      <div class="time"><%= new Date(event.time * 1000).toLocaleTimeString() %></div>
    </div>
  </script>
  <script type="text/html" id="template-sharingListCompositeView">
    <ul id="sharing-list"></ul>
  </script>
  <script type="text/html" id="template-sharingItemView">

    <td class="sharing-name col-md-4"><i class="fa fa-edit sharing-edit-name fa-lg"></i> <span class="sharing-edit-name"> <%= sharing.name %></span><div class="input-group"><input type="text" class="form-control" placeholder="<%= sharing.name %>"><span class="input-group-btn" style="width: auto;">
        <button class="btn btn-default" type="button">Save</button>
      </span></div></td><td class="sharing-url"><a href="<%= sharing.url %>"><%= sharing.url %></a></td>
     <td class="share share-small">

      <a target="_blank" href="https://www.facebook.com/sharer.php?u=<%= sharing.url.replace(/#/g, '%23') %>&t="
       onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=400,width=700');return false;">
      <i class="fa fa-facebook"></i></a>
       <a target="_blank" href="https://twitter.com/share?url=<%= sharing.url.replace(/#/g, '%23') %>&via=pryv"
       onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=400,width=700');return false;">
      <i class="fa fa-twitter"></i></a>
       <a href="mailto:?subject=Sharing from PrYv&amp;body=Here is a sharing for you: <%= sharing.url %>" title="Share by Email"><i class="fa fa-envelope"></i></a>
     </td>
    <td class="sharing-trash"><a href="javascript:void(0)"><i class="fa fa-trash-o fa-lg"></i></a></td>

  </script> <script type="text/html" id="template-subscriptionItemView">
    <input type="checkbox" class="checkbox">
    <div class="view">
      <%= connection.url %>
      <input type="text" placeholder="Name" required class="subscription-name">
      <% if (error) {%>
        <span class="glyphicon glyphicon-warning-sign"></span>
      <% } %>
    </div>
  </script>
  <script type="text/html" id="template-bookmarkListCompositeView">
    <ul id="bookmark-list"></ul>
  </script>
  <script type="text/html" id="template-bookmarkItemView">
   <td><%= bookmark.settings.name %></td><td><a href="<%= bookmark.settings.url %>"><%= bookmark.settings.url %></a></a></td><td class="bookmark-trash"><a href="javascript:void(0)"><i class="fa fa-trash-o fa-lg"></i></a></td>
  </script>
    
  <script type="text/html" id="template-draganddrop">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
      <h4 class="modal-title" id="myModalLabel">Create your own node</h4>
      <div class="modal-close"></div>
    </div>
    <div class="modal-dnd-middle">
      <div class="modal-dnd-left">
        <div class="modal-dnd-chart"></div>
        <div class="modal-dnd-legend">legend</div>
      </div>
      <div class="modal-dnd-right">
        <div class="modal-dnd-values">
          <span><h2>Your Values</h2></span>
          <span><h4>Add your value and create your node</h4></span>
        </div>
        <div class="modal-dnd-list"></div>
      </div>
    </div>
    <div class="modal-dnd-footer">
      <div class="input-group input-group-lg">
        <input type="text" class="form-control " id="dnd-field-name" placeholder="Enter the Node's name here">
        <span class="input-group-btn">
          <button class="btn btn-success" id="dnd-btn-create" type="button">Create!</button>
          <button class="btn btn-danger" id="dnd-btn-cancel" type="button">Cancel</button>
        </span>
      </div>
  </script>
  <script type="text/template" id="template-draganddrop-itemview">
    <a class="btn btn-primary btn-xs DnD-legend-button" href="javascript:;">
      <span class="glyphicon glyphicon-plus"></span>
    </a>
    <span class="DnD-legend-text"><%= displayName() %></span>
  </script>
  <script type="text/template" id="template-chart-container">
    <div id="chart-container"></div>
  </script>
  <script type="template" id="template-detail-content-position">
  </script>
  <script type="template" id="template-detail-content-generic">
    <% if (event) {%>
    <div class="event-structure" id="full-content"><%= showContent() %></div>
    <div class="event-structure" id="full-attachment"><%= showAttachment() %></div>
    <div class="event-structure" id="add-attachment"></div>
    <% } %>
  </script>
  <script type="template" id="template-detail-creation-type">
    <div class="container">
    <div class="row" id="type-select">
      <div class="type-select col-md-2" data-type="note/txt"><i class="fa fa-pencil fa-3"></i><span>Note</span></div>
      <div class="type-select col-md-2" data-type="picture/attached"><i class="fa fa-camera  fa-3"></i><span>Picture</span></div>
      <div class="type-select col-md-2" data-type="position/wgs84"><i class="fa fa-map-marker  fa-3"></i><span>Position</span></div>
    </div>
    </div>
  </script>
  <script type="template" id="template-detail-creation-stream">
    <h1>Choose a stream</h1>
    <%= getStream() %>
  </script>
  <script type="template" id="template-detail-picture-select">
    <div class="container">
    <h1>Upload photo</h1>
    <div id="select-picture-container">
      <input type="file" id="fileElem" name="file" accept="image/*" multiple>
      <button id="fileSelect" class="btn btn-default">Select Picture</button>
    </div>
    </div>
  </script>
  <script type="template" id="template-detail-content-tweet">
    <div class="content Center-Container is-Table">
      <div class="Table-Cell">
        <div class="Center-Block">
          <% if (event) { %>
          <blockquote class="twitter-tweet" align="center">
            <p><%= event.content.text %> </p>&mdash;
            <%= event.content['screen-name'] %> (@<%= event.content['screen-name'] %>) <%= getUrl()%>
          </blockquote>
          <% } %>
          <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
        </div>
      </div>
    </div>
  </script>
  <script type="template" id="template-detail-creation-event">
    <div id="creation-content">
    <div id="creation-typed" class="full-height col-md-9">
      <%= getTypedView() %>
    </div>
    <div id="creation-select-stream" class="full-height col-md-3"><h3>Select a Stream</h3><%= getStream() %></div>
    </div>
    <div id="creation-footer" class="col-md-12"><button id="publish" class="btn btn-pryv-turquoise">Publish</button><button id="cancel" class="btn">Cancel</button></div>
  </script>
  <script type="template" id="template-detail-content-note">
    <% if (event) { %>
    <ul>
      <li class="event-structure editable" id="current-content">content: <label><%= event.content %></label>
        <textarea class="edit form-control" rows="5" id="edit-content" value="<%= event.content %>"><%= event.content %></textarea>
      </li>
    </ul>
    <% } %>
  </script>
  <script type="template" id="template-detail-content-picture">
    <% if (event) { %>
      <div class="event-structure" id="current-picture">
        <span class="fa fa-angle-left picture-icon"></span>
        <span class="fa fa-angle-right picture-icon"></span>
            <img src="<%= getSrc() %>" alt="<%= getAlt()%>">
            <!--<div class="event-structure" id="add-attachment"></div> -->
      </div>
    <% } %>
  </script>

  <script type="template" id="template-detail-content-numerical-general">
      <div class="legend-container" id="legend-container-general"></div>
      <div class="detail-chart-container" id="detail-chart-container-general"></div>
  </script>
  <script type="template" id="template-detail-content-numerical-edit">
      <div class="legend-container" id="legend-container-edit"></div>
      <div class="detail-chart-container" id="detail-chart-container-edit"></div>
      <div class="editor-container">
        <div id="dc-editor-appearance">
          <span>Appearance</span>
          <ul>
            <li>
              <span>Color</span>
                <select id="detailed-view-chart-color">
                    <option value="#00FFFF" style="background-color: Aqua">Aqua</option>
                    <option value="#000000" style="background-color: Black">Black</option>
                    <option value="#0000FF" style="background-color: Blue">Blue</option>
                    <option value="#FF00FF" style="background-color: Fuchsia">Fuchsia</option>
                    <option value="#808080" style="background-color: Gray">Gray</option>
                    <option value="#008000" style="background-color: Green">Green</option>
                </select>
            </li>
            <li>
              <span>Style</span>
              <select id="detailed-view-chart-style">
                <option value="line">Line</option>
                <option value="point">Point</option>
                <option value="bar">Bar</option>
                </select>
            </li>
          </ul>
        </div>
        <div id="dc-editor-transform">
          <span>Operation</span>
          <select id="detailed-view-chart-operation" size="4">
            <option value="none">None</option>
            <option value="sum">Sum</option>
            <option value="average">Average</option>
          </select>
        </div>
        <div id="dc-editor-period">
          <span>Interval</span>
            <select id="detailed-view-chart-interval" size="4">
              <option value="none">None</option>
              <option value="daily">Daily</option>
              <option value="weekly">Weekly</option>
              <option value="monthly">Monthly</option>
              <option value="yearly">Yearly</option>
            </select>
        </div>
      </div>
  </script>

  <script type="template" id="template-detail-full">
      <% if (event) {%>
      <ul>
        <li class="event-structure editable" id="current-streamId">Stream: <label><%= event.streamName
          %></label>
          <select class="edit" id="edit-streamId"><%= getStreamStructure() %></select>
        </li>

        <!--
         <li class="event-structure" id="current-trashed">trashed: <label><%= event.trashed %></label>
        </li> -->
        <li class="event-structure editable" id="current-time">Time: <label><%= new Date(event.time *
          1000).toLocaleDateString() %> <%= new Date(event.time * 1000).toLocaleTimeString()
          %></label>
          <input type="datetime-local" class="edit" id="edit-time" value="<%= new Date(Math.round(event.time * 1000)).toISOString().slice(0, -5) %>">
        </li> <!--
        <li class="event-structure" id="current-type">type: <label><%= event.type %></label>
          <input class="edit" id="edit-type" value="<%= event.type %>">
        </li> -->
        <li class="event-structure editable" id="current-description">Description: <label><%=
          event.description %></label>
          <input class="edit" id="edit-description" value="<%= event.description %>"></li>
        <li class="event-structure editable" id="current-tags">Tags:
          <% event.tags.forEach(function (tag) { %>
          <label><%= tag %></label>
          <% }) %>
          <input class="edit" id="edit-tags" value="<%= event.tags.join(', ') %>"></li>

        <button id ="submit-edit" type="button" class="btn btn-pryv-turquoise">Submit</button>
        <button id ="trash-edit" type="button" class="btn btn-danger">Trash</button>
      </ul>
      <% } %>
  </script>
  <script type="template" id="template-fusion-graph">
    <div id="fusion-full">
    </div>
  </script>
  <script id="node-template" type="text/template">
    <summary>
    <div class="checkbox inline-block">
      <label>
        <input class="input-checkbox" type="checkbox"><%= name %>
      </label>
    </div>
    </summary>
  </script>
</head>

<body>
<span id="pryvButton"></span>
<div id="login">
  <div id="login-caret" class="centered"><span class="glyphicon glyphicon-chevron-left"></span>
  </div>
  <div id="login-form" class="centered">
    <form role="form">
      <h3>Login</h3>

      <div class="form-group">
        <label class="sr-only" for="login-username">Username</label>
        <input type="text" class="form-control" id="login-username" placeholder="Username">
      </div>
      <div class="form-group">
        <label class="sr-only" for="login-password">Password</label>
        <input type="password" class="form-control" id="login-password" placeholder="Password">
      </div>
      <button type="submit" class="btn btn-pryv-turquoise">Sign In</button>
    </form>
  </div>
</div>
<a href="javascript:void(0)" id="login-button" class="menu-button">Sign In</a>
<a href="javascript:void(0)" id="logo-sharing" class="menu-button"><span class="glyphicon glyphicon-star"></span></a>
<a href="javascript:void(0)" id="logo-add" class="menu-button"><span class="glyphicon glyphicon-plus"></span></a>
<a href="javascript:void(0)" id="logo-subscribe" class="menu-button"><span class="glyphicon glyphicon-star-empty"></span></a>
<a href="javascript:void(0)" id="logo-create-sharing" class="menu-button"><span class="glyphicon glyphicon-share-alt"></span></a>
<!-- @if NODE_ENV == 'DEVELOPMENT' -->
<!-- do not put anything between #logo-reload and #tree -->
<!-- @endif -->
<a href="#" id="logo-reload" class="logo">Pryv</a>
<div id="tree">
  <div id="empty-events">
    <h1> No events to display </h1>
  </div>
</div>
<div id="timeframe"></div>
<div class="modal node" id="pryv-modal" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">

    </div>
    <!-- /.modal-content -->
  </div>
  <!-- /.modal-dialog -->
</div>
<!-- /.modal -->
<!-- Facebook -->
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_GB/all.js#xfbml=1&appId=589869207755296";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<!-- Twitter -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
<!-- @if NODE_ENV != 'DEVELOPMENT'  -->
<!-- Google Analytics -->
<script>
  var _gaq=[['_setAccount','UA-36589447-3'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
    g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g,s)}(document,'script'));
</script>
<!-- @endif -->
</body>
</html>
