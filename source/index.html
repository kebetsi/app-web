<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <!-- ENV example -->
  <!-- @if NODE_ENV == 'DEVELOPMENT' -->
  <title>Browser atglance DEV</title>
  <base href="">
  <!-- @endif -->
  <!-- @if NODE_ENV == 'STAGING' -->
  <title>Pryv @ Glance</title>
  <base href="{browser-source}/">
  <!-- @endif -->

  <meta property="og:title" content="Slice of life" />
  <!-- @if NODE_ENV != 'DEVELOPMENT'  -->
  <meta property="og:url" content="https://{host}" />
  <!-- @endif -->
  <meta property="og:description" content="Content available on Pryv only." />
  <meta property="og:image" content="http://d233medomu0tdb.cloudfront.net/media_dist/og_image.jpg" />
  <meta property="og:image:secure_url" content="https://d233medomu0tdb.cloudfront.net/media_dist/og_image.jpg" />
  <link rel="stylesheet" type="text/css" href="styles/pryv.min.css">
  <script type="text/javascript" charset="utf-8" src="script/vendor.js"></script>
  <script type="text/javascript" charset="utf-8" src="script/app_bundle_main.js"></script>
  <script type="text/javascript">
    $(function () {
      var sampleApp = require('SampleApp');
      <!-- @if NODE_ENV != 'DEVELOPMENT'  -->
      sampleApp.main();
        <!-- @endif -->
      <!-- @if NODE_ENV == 'DEVELOPMENT' -->
      sampleApp.main(true);
      <!-- @endif -->
    });
  </script>
  <script id="super-condensed-view" type="template">
    <div class="aggregated-icon Numericals"></div>
    <span class="aggregated-nbr-events"><%=eventsNbr%></span>

    <div class="aggregated-icon-page"></div>
    <div class="content Center-Container is-Table">
      <div class="Table-Cell">
        <div class="Center-Block">
          <% _.each(_.keys(datas), function (key) {
          %><p><%= _.size(datas[key])%> <%= key %></p> <%
          })
          %>
        </div>
      </div>
    </div>
  </script>
  <script id="positionsView" type="template">
    <div class="aggregated-icon Positions"></div>
    <span class="aggregated-nbr-events"><%=eventsNbr%></span>

    <div id="map-canvas-<%=id%>" class="mapView"></div>
  </script>
  <script id="picturesView" type="template">
    <span class="aggregated-nbr-events"><%=eventsNbr%></span>

  </script>

  <script id="notesView" type="template">
    <div class="aggregated-icon Notes"></div>
    <span class="aggregated-nbr-events"><%=eventsNbr%></span>

    <div class="content Center-Container is-Table">
      <div class="Table-Cell">
        <div class="Center-Block">
          <%= content %>
        </div>
      </div>
    </div>
    <div class="tags"><%= tags %></div>
    <div class="date"><%= new Date(time * 1000).toLocaleDateString() %></div>
  </script>
  <script id="genericsView" type="template">
    <div class="aggregated-icon <%= type.split("/")[0] %> <%= type.split("/")[1] %>"></div>

    <span class="aggregated-nbr-events"><%=eventsNbr%></span>

    <div class="aggregated-icon-page"></div>


    <div class="content Center-Container is-Table">
      <div class="Table-Cell">
        <div class="Center-Block">
          <% if (type.split("/")[0] === 'url') { %>
          <a href="<%= content %>"><%= content %></a>
          <% } else { %>
          <%= content %>
          <% } %>
        </div>
      </div>
    </div>

  </script>
  <script id="nodeView" type="template">

    <%
    if (typeof(content) != "undefined") {
    if (typeof(content.name) != "undefined" && typeof(content.clientData) != "undefined" ) { %>
    <div class='nodeHeader <%= content.clientData.color %>'><%= content.name %></div>
    <% } else if (typeof(content.name) != "undefined" ) { %>
    <div class='nodeHeader '><%= content.name %></div>
    <% } else if (typeof(content.username) != "undefined") { %>
    <div class='nodeHeader'><%= content.username %> / <%= content._accessInfo.name %></div>
    <% } } %>
    <span></span>
  </script>

  <script type="text/html" id="template-detailListCompositeView">
    <ul id="detail-list"></ul>
  </script>
  <script type="text/html" id="template-detailItemView">
    <input type="checkbox" class="checkbox">
    <div class="view">
      <%= new Date(event.time * 1000).toLocaleDateString() %> <%= new Date(event.time *
      1000).toLocaleTimeString() %>
    </div>
  </script>
  <script type="text/html" id="template-sharingListCompositeView">
    <ul id="sharing-list"></ul>
  </script>
  <script type="text/html" id="template-sharingItemView">
    <div class="view">
      <%= JSON.stringify(sharing) %>
    </div>
  </script>
  <script type="text/html" id="template-bookmarkListCompositeView">
    <ul id="bookmark-list"></ul>
  </script>
  <script type="text/html" id="template-bookmarkItemView">
    <td class="bookmark-trash"><a href="javascript:void(0)">&#10008</a></td><td><%= bookmark.settings.name %></td><td><%= bookmark.settings.auth %></td><td><%= bookmark.settings.url %></td>
  </script>
    
  <script type="text/html" id="template-draganddrop">
    <div id="dnd-body" class="dnd-body">
      <div id="dnd-panel-list"></div>
      <div id="dnd-panel-chart"></div>
    </div>
  </script>
  <script type="text/template" id="template-draganddrop-itemview">
    <a class="DnD-legend-button" href="javascript:;">+</a>
    <span class="DnD-legend-text"><%= displayName() %></span>
  </script>
  <script type="text/template" id="template-chart-container">
    <div id="chart-container"></div>
  </script>
  <script type="template" id="template-detail-content-position">
  </script>
  <script type="template" id="template-detail-content-generic">
    <% if (event) {%>
    <div class="event-structure" id="full-content"><%= showContent() %></div>
    <div class="event-structure" id="full-attachment"><%= showAttachment() %></div>
    <div class="event-structure" id="add-attachment"></div>
    <% } %>
  </script>
  <script type="template" id="template-detail-creation-type">
    <h1>Choose an event type</h1>
    <ul id="type-select">
      <li class="type-select" data-type="note/txt">Add a note</li>
      <li class="type-select" data-type="picture/attached">Add a picture</li>
      <li class="type-select" data-type="position/wgs84">Add a position</li>
    </ul>
  </script>
  <script type="template" id="template-detail-creation-stream">
    <h1>Choose a stream</h1>
    <%= getStream() %>
  </script>
  <script type="template" id="template-detail-content-note">
    <% if (event) {%>
    <ul>
      <li class="event-structure editable" id="current-content">content: <label><%= event.content %></label>
        <textarea class="edit form-control" rows="5" id="edit-content" value="<%= event.content %>"><%= event.content %></textarea>
      </li>
    </ul>
    <% } %>
  </script>
  <script type="template" id="template-detail-content-picture">
    <% if (event) {%>
    <ul>
      <li class="event-structure" id="current-picture"><img src="<%= getSrc() %>" alt="<%= getAlt()%>">
        <div class="event-structure" id="add-attachment"></div>
      </li>
    </ul>
    <% } %>
  </script>

  <script type="template" id="template-detail-content-numerical-general">
      <div class="legend-container" id="legend-container-general"></div>
      <div class="detail-chart-container" id="detail-chart-container-general"></div>
  </script>
  <script type="template" id="template-detail-content-numerical-edit">
      <div class="legend-container" id="legend-container-edit"></div>
      <div class="detail-chart-container" id="detail-chart-container-edit"></div>
      <div class="editor-container">
        <div id="dc-editor-appearance">
          <span>Appearance</span>
          <ul>
            <li>
              <span>Color</span>
                <select id="detailed-view-chart-color">
                    <option value="#00FFFF" style="background-color: Aqua">Aqua</option>
                    <option value="#000000" style="background-color: Black">Black</option>
                    <option value="#0000FF" style="background-color: Blue">Blue</option>
                    <option value="#FF00FF" style="background-color: Fuchsia">Fuchsia</option>
                    <option value="#808080" style="background-color: Gray">Gray</option>
                    <option value="#008000" style="background-color: Green">Green</option>
                </select>
            </li>
            <li>
              <span>Style</span>
              <select id="detailed-view-chart-style">
                <option value="line">Line</option>
                <option value="point">Point</option>
                <option value="bar">Bar</option>
                </select>
            </li>
          </ul>
        </div>
        <div id="dc-editor-transform">
          <span>Operation</span>
          <select id="detailed-view-chart-operation" size="4">
            <option value="none">None</option>
            <option value="sum">Sum</option>
            <option value="average">Average</option>
          </select>
        </div>
        <div id="dc-editor-period">
          <span>Interval</span>
            <select id="detailed-view-chart-interval" size="4">
              <option value="none">None</option>
              <option value="daily">Daily</option>
              <option value="weekly">Weekly</option>
              <option value="monthly">Monthly</option>
              <option value="yearly">Yearly</option>
            </select>
        </div>
      </div>
  </script>

  <script type="template" id="template-detail-full">
      <% if (event) {%>
      <ul>
        <li class="event-structure editable" id="current-streamId">streamId: <label><%= event.streamId
          %></label>
          <select class="edit" id="edit-streamId"><%= getStreamStructure() %></select>
        </li>
        <li class="event-structure" id="current-trashed">trashed: <label><%= event.trashed %></label>
        </li>
        <li class="event-structure editable" id="current-time">time: <label><%= new Date(event.time *
          1000).toLocaleDateString() %> <%= new Date(event.time * 1000).toLocaleTimeString()
          %></label>
          <input type="datetime-local" class="edit" id="edit-time" value="<%= new Date(Math.round(event.time * 1000)).toISOString().slice(0, -5) %>">
        </li>
        <li class="event-structure" id="current-type">type: <label><%= event.type %></label>
          <input class="edit" id="edit-type" value="<%= event.type %>">
        </li>
        <li class="event-structure editable" id="current-description">description: <label><%=
          event.description %></label>
          <input class="edit" id="edit-description" value="<%= event.description %>"></li>
        <li class="event-structure editable" id="current-tags">tags: <label><%= event.tags.join(', ')
          %></label>
          <input class="edit" id="edit-tags" value="<%= event.tags.join(', ') %>"></li>

        <button id ="submit-edit" type="button" class="btn btn-primary">Submit</button>
        <button id ="trash-edit" type="button" class="btn btn-danger">Trash</button>
      </ul>
      <% } %>
  </script>
  <script type="template" id="template-fusion-graph">
    <div id="fusion-full">
    </div>
  </script>
</head>

<body>
<!-- @if NODE_ENV != 'DEVELOPMENT' -->
<span id="pryvButton"></span>
<div id="login" class="btn-group">
  <button type="button" class="btn pryv-access-btn-pryv-access-color dropdown-toggle" data-toggle="dropdown">
    <span class="toggle">Sign In <span class="caret"></span></span>
    <span class="toggle" style="display: none" id="login-button-username">Username </span>
  </button>
    <form accept-charset="UTF-8" class="dropdown-menu form-horizontal" role="form">
      <div class="form-group">
        <label class="sr-only" for="login-username">Username</label>
        <input id="login-username" class="form-control" type="text" placeholder="Username" size="10" />
      </div>
      <div class="form-group">
        <label class="sr-only" for="login-username">Password</label>
        <input id="login-password" class="form-control" type="password" placeholder="Password" size="10" />
      </div>
      <div class="form-group">
        <div class="checkbox">
          <label>
            <input id="login-remember-me" type="checkbox"> Remember me
          </label>
        </div>
      </div>
      <div class="form-group">
        <input id="login-submit" class="btn pryv-access-btn-pryv-access-color" type="submit" name="commit" value="Sign In" />
      </div>
    </form>
</div>
<!-- @endif -->
<a href="#" id="logo-sharing"></a>
<a href="#" id="logo-add"></a>
<!-- @if NODE_ENV == 'DEVELOPMENT' -->
<!-- do not put anything between #logo-reload and #tree -->
<!-- @endif -->
<a href="#" id="logo-reload" class="logo">Pryv</a>
<div id="tree">
  <div id="empty-events">
    <h1> No events to display </h1>
  </div>
</div>
<div id="timeframe"></div>
<div class="modal fade" id="pryv-modal" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">

    </div>
    <!-- /.modal-content -->
  </div>
  <!-- /.modal-dialog -->
</div>
<!-- /.modal -->
<!-- @if NODE_ENV != 'DEVELOPMENT'  -->
<!-- Google Analytics -->
<script>
  var _gaq=[['_setAccount','UA-36589447-3'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
    g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g,s)}(document,'script'));
</script>
<!-- @endif -->
</body>
</html>
